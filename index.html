<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #root{
            background-color: tomato;
            color: white;
            font-size: 2em;
            text-align: center;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root">
        <input type="text" placeholder="username" id="usernameInput">
        <input type="password" placeholder="password" id="passwordInput">
        <button id="buttonLogin" onclick="onLogin()">LOGIN</button>
        <button id="buttonLogout" onclick="onLogout()">LOGOUT</button>  
        <br />
        <input type="text" placeholder="username" id="usernameInputRegister">
        <input type="password" placeholder="password" id="passwordInputRegister">
        <button id="buttonLogin" onclick="onRegister()">REGISTER</button>
        <br />
            <h1 id="admin">LOGIN SEBAGAI ADMIN</h1>
            <h1 id="basic">LOGIN SEBAGAI USER</h1>
    </div>
    

    <script type="application/javascript">
        let buttonLogin = document.getElementById('buttonLogin');
        let buttonLogout = document.getElementById('buttonLogout');
        let usernameInput = document.getElementById('usernameInput');
        let passwordInput = document.getElementById('passwordInput');

        let usernameInputRegister = document.getElementById('usernameInputRegister');
        let passwordInputRegister = document.getElementById('passwordInputRegister');

        let admin = document.getElementById('admin');
        let basic = document.getElementById('basic');

        admin.style.display = 'none';
        basic.style.display = 'none';
        buttonLogout.style.display = 'none';

        const onRegister = () => {
            localStorage.setItem('username', usernameInputRegister.value);
            localStorage.setItem('password', passwordInputRegister.value);
        }

    const onLogin = () => {
    const registeredUsername = localStorage.getItem('username');
    const registeredPassword = localStorage.getItem('password');

    if (registeredUsername && registeredPassword && registeredUsername === usernameInput.value && registeredPassword === passwordInput.value) {
        // localStorage.setItem('username', usernameInput.value);
        localStorage.setItem('inpo', `${usernameInput.value} lagi login nih`);
        buttonLogout.style.display = 'block';
        usernameInputRegister.style.display = 'none';
        passwordInputRegister.style.display = 'none';
        buttonRegister.style.display = 'none';

        if(usernameInput.value == 'admin' && passwordInput.value == 'admin'){
                usernameInput.style.display = 'none';
                passwordInput.style.display = 'none';
                buttonLogin.style.display = 'none';
               admin.style.display = 'block';
               basic.style.display = 'none';
               localStorage.setItem('role', 'admin');
           }else{
                usernameInput.style.display = 'none';
                passwordInput.style.display = 'none';
                buttonLogin.style.display = 'none';
                admin.style.display = 'none';
                basic.style.display = 'block';
                localStorage.setItem('role', 'basic');
           }
    } else {
        alert('Login gagal');
    }
}
       //jika di localstorage ada yang login
       if(localStorage.getItem('username')){
           usernameInput.style.display = 'none';
           passwordInput.style.display = 'none';
           buttonLogin.style.display = 'none';
           buttonLogout.style.display = 'block';

           if(localStorage.getItem('role') == 'admin'){
               admin.style.display = 'block';
               basic.style.display = 'none';
           }else{
                admin.style.display = 'none';
                basic.style.display = 'block';
           }
       }


       

       const onLogout = () => {
        localStorage.clear();
        
        location.reload();
       }
    </script>
</body>
</html>